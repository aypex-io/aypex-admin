<%= form_with model: @promotion, url: object_url, method: :put, data: { controller: 'form-state' } do |f| %>
  <%= f.fields_for :promotion_rules, promotion_rule do |pr|%>
    <div class="row mb-0">
      <div class="col-8 mb-3">
        <%= f.field_container :operator_min do %>
          <%= pr.select :operator_min, options_for_select(Aypex::Promotion::Rules::ItemTotal::OPERATORS_MIN.map{|o| [I18n.t("aypex.admin.#{o}"),o]}, promotion_rule.operator_min), { include_hidden: false, include_blank: false } %>
          <%= pr.label :operator_min, I18n.t('aypex.admin.operator_min') %>
        <% end %>

        <%= f.field_container :operator_max do %>
          <%= pr.select :operator_max, options_for_select(Aypex::Promotion::Rules::ItemTotal::OPERATORS_MAX.map{|o| [I18n.t("aypex.admin.#{o}"),o]}, promotion_rule.operator_max), { include_hidden: false, include_blank: false } %>
          <%= pr.label :operator_max, I18n.t('aypex.admin.operator_max') %>
        <% end %>
      </div>
      <div class="col-4 mb-3">
        <%= f.field_container :amount_min do %>
          <%= pr.text_field :amount_min %>
          <%= pr.label :amount_min, I18n.t('aypex.admin.amount_min') %>
        <% end %>

        <%= f.field_container :amount_max do %>
          <%= pr.text_field :amount_max %>
          <%= pr.label :amount_max, I18n.t('aypex.admin.amount_max') %>
        <% end %>
      </div>
    </div>
  <% end %>

  <div class="text-end">
    <%= render partial: 'aypex/admin/shared/submit_button' %>
  </div>
<% end %>
