<% content_for :page_title do %>
  <%= breadcrumb_builder(link_one_uri: aypex.admin_products_path, link_one_text:I18n.t('aypex.admin.all_products'), current_page_name: @product.name) %>
<% end %>

<% content_for :page_actions do %>
  <% if @product.available? %>
    <%= external_page_preview_link(@product) %>
  <% end %>
<% end %>

<div data-hook="admin_product_form_fields">
  <div class="row">
    <div class="col-12 col-xl-8" data-hook="admin_product_form_left">
      <%= render "aypex/admin/products/forms/details" %>
      <%= render "aypex/admin/products/forms/properties" if can?(:admin, Aypex::ProductProperty) && !@product.deleted? %>
      <%= render "aypex/admin/products/forms/images" %>
      <%= render "aypex/admin/products/forms/digitals" unless @product.has_variants? %>
      <%= render "aypex/admin/products/forms/variants" %>
      <%= render "aypex/admin/products/forms/stock" unless @product.has_variants? %>
    </div>

    <div class="col-12 col-xl-4" data-hook="admin_product_form_right">
      <%= render "aypex/admin/products/forms/overview" %>
      <%= render "aypex/admin/products/forms/status" %>
      <%= render "aypex/admin/products/forms/pricing" %>
      <%= render "aypex/admin/products/forms/tax_and_shipping" %>
      <%= render "aypex/admin/products/forms/specifications" %>
      <%= render "aypex/admin/products/forms/organization" %>
      <%= render "aypex/admin/products/forms/seo" %>
    </div>
  </div>

  <div data-hook="admin_product_form_meta"></div>
  <div data-hook="admin_product_form_additional_fields"></div>
</div>
