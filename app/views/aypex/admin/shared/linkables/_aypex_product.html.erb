<% if resource.linked_resource %>
   <% resource_holder = [resource.linked_resource] %>
   <% id_holder = :id %>
   <% name_holder = :name %>
   <% active_id_holder = resource.linked_resource.id %>
 <% end %>

<div class="form-group form-floating">
  <%= f.select :linked_resource_id, options_from_collection_for_select(resource_holder || [], id_holder, name_holder, active_id_holder || nil), { include_blank: true },
                                     class: 'form-select',
                                     data: { controller: 'ts--search',
                                             ts__search_endpoint_value: 'products',
                                             ts__search_txt_value: 'name',
                                             ts__search_fields_value: ['name'],
                                             ts__search_ransack_value: ['name_i_cont'] } %>

   <%= f.label :linked_resource_id, I18n.t('aypex.admin.search_for_a_product') %>
   <small class="form-text text-body-secondary"><%= resource.link %></small>
</div>
