<%= turbo_frame_tag :sections do %>
  <div class="d-grid gap-2 p-2">
    <%= form_with model: [:admin, @cms_page, @cms_section], url: aypex.admin_cms_page_cms_sections_path, data: { controller: "input--required"} do |f| %>
      <%= f.field_container :name do %>
        <%= f.text_field :name, required: true %>
        <%= f.label :name, raw(I18n.t("aypex.admin.name") + required_span_tag) %>
      <% end %>

      <%= f.field_container :type do %>
        <%= f.select(:type, @cms_section.types_data.pluck(:name, :type), {include_blank: false}) %>
        <%= f.label :type, I18n.t('aypex.admin.section_type') %>
      <% end %>

      <% content_for :additional_form_buttons do %>
        <%= link_to(I18n.t('aypex.admin.cancel'), aypex.edit_admin_cms_page_path(@cms_page), { data: { turbo_frame: :_top }, class: 'btn btn-light' }) %>
      <% end %>

      <%= render partial: 'aypex/admin/shared/resource_actions' %>
    <% end %>
  </div>
<% end %>
