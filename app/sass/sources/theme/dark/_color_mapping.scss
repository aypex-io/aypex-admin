$color-mode-type: media-query;

@include color-mode(dark) {
  :root {
    --#{$prefix}body-color: #{$body-color-dark};
    --#{$prefix}body-color-rgb: #{to-rgb($body-color-dark)};
    --#{$prefix}body-bg: #{$body-bg-dark};
    --#{$prefix}body-bg-rgb: #{to-rgb($body-bg-dark)};
    --#{$prefix}emphasis-color: #{$body-emphasis-color-dark};
    --#{$prefix}emphasis-color-rgb: #{to-rgb($body-emphasis-color-dark)};
    --#{$prefix}secondary-color: #{$body-secondary-color-dark};
    --#{$prefix}secondary-color-rgb: #{to-rgb($body-secondary-color-dark)};
    --#{$prefix}secondary-bg: #{$body-secondary-bg-dark};
    --#{$prefix}secondary-bg-rgb: #{to-rgb($body-secondary-bg-dark)};
    --#{$prefix}tertiary-color: #{$body-tertiary-color-dark};
    --#{$prefix}tertiary-color-rgb: #{to-rgb($body-tertiary-color-dark)};
    --#{$prefix}tertiary-bg: #{$body-tertiary-bg-dark};
    --#{$prefix}tertiary-bg-rgb: #{to-rgb($body-tertiary-bg-dark)};
    --#{$prefix}emphasis-color: #{$emphasis-color-dark};
    --#{$prefix}primary-text: #{$primary-text-dark};
    --#{$prefix}secondary-text: #{$secondary-text-dark};
    --#{$prefix}success-text: #{$success-text-dark};
    --#{$prefix}info-text: #{$info-text-dark};
    --#{$prefix}warning-text: #{$warning-text-dark};
    --#{$prefix}danger-text: #{$danger-text-dark};
    --#{$prefix}light-text: #{$light-text-dark};
    --#{$prefix}dark-text: #{$dark-text-dark};
    --#{$prefix}primary-bg-subtle: #{$primary-bg-subtle-dark};
    --#{$prefix}secondary-bg-subtle: #{$secondary-bg-subtle-dark};
    --#{$prefix}success-bg-subtle: #{$success-bg-subtle-dark};
    --#{$prefix}info-bg-subtle: #{$info-bg-subtle-dark};
    --#{$prefix}warning-bg-subtle: #{$warning-bg-subtle-dark};
    --#{$prefix}danger-bg-subtle: #{$danger-bg-subtle-dark};
    --#{$prefix}light-bg-subtle: #{$light-bg-subtle-dark};
    --#{$prefix}dark-bg-subtle: #{$dark-bg-subtle-dark};
    --#{$prefix}primary-border-subtle: #{$primary-border-subtle-dark};
    --#{$prefix}secondary-border-subtle: #{$secondary-border-subtle-dark};
    --#{$prefix}success-border-subtle: #{$success-border-subtle-dark};
    --#{$prefix}info-border-subtle: #{$info-border-subtle-dark};
    --#{$prefix}warning-border-subtle: #{$warning-border-subtle-dark};
    --#{$prefix}danger-border-subtle: #{$danger-border-subtle-dark};
    --#{$prefix}light-border-subtle: #{$light-border-subtle-dark};
    --#{$prefix}dark-border-subtle: #{$dark-border-subtle-dark};
    --#{$prefix}heading-color: #{$headings-color-dark};
    --#{$prefix}link-color: #{$link-color-dark};
    --#{$prefix}link-hover-color: #{$link-hover-color-dark};
    --#{$prefix}link-color-rgb: #{to-rgb($link-color-dark)};
    --#{$prefix}link-hover-color-rgb: #{to-rgb($link-hover-color-dark)};
    --#{$prefix}code-color: #{$code-color-dark};
    --#{$prefix}border-color: #{$border-color-dark};
    --#{$prefix}border-color-translucent: #{$border-color-translucent-dark};
  }


  ///////////////////
  // UI COMPONENTS //
  ///////////////////
  .accordion {
    --bs-accordion-color: rgb(var(--bs-body-color-rgb));
    --bs-accordion-bg: rgb(var(--bs-body-bg-rgb));
    --bs-accordion-active-color: rgb(var(--bs-primary-rgb));
    --bs-accordion-btn-color: rgb(var(--bs-body-color-rgb));
    --bs-accordion-active-bg: rgb(var(--bs-sub-bg-rgb));

    &-button {
      &::after {
        background-image: url("data:image/svg+xml; charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor' %3E%3Cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");
      }

      &:not(.collapsed)::after {
        background-image: url("data:image/svg+xml; charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor' %3E%3Cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");
      }
    }
  }

  .card {
    --bs-card-bg: rgb(var(--bs-sub-bg-rgb));
    --bs-card-border-color: rgb(var(--bs-sub-border-rgb));
  }

  .dropdown {
    &-menu {
      --bs-dropdown-bg: rgb(var(--bs-sub-bg-rgb));
      --bs-dropdown-border-color: rgb(var(--bs-sub-border-rgb));
    }

    &-item {
      --bs-dropdown-link-color: rgb(var(--bs-body-color-rgb));

      &:hover {
        background-color: rgb(var(--bs-body-bg-rgb));
        color: rgb(var(--bs-body-color-rgb));
      }
    }
  }

  /* stylelint-disable-next-line selector-class-pattern */
  .plugin-dropdown_input.focus .ts-dropdown .dropdown-input {
    color: rgb(var(--bs-input-color-rgb));
    border-color: rgb(var(--bs-input-focus-border-rgb));
    box-shadow: inset 0 0 0 1px rgb(var(--bs-input-focus-border-rgb));
  }

  .input-group-text {
    background-color: rgb(var(--bs-input-bg-rgb));
    border-color: rgb(var(--bs-input-border-rgb));
    color: rgb(var(--bs-input-color-rgb));
  }

  .list-group {
    background-color: rgb(var(--bs-body-bg-rgb));
  }

  .list-group-item {
    background-color: rgb(var(--bs-body-bg-rgb));
  }

  .modal-content {
    background-color: rgb(var(--bs-sub-bg-rgb));
    border-color: rgb(var(--bs-sub-border-rgb));
  }

  .modal-backdrop.show {
    --bs-backdrop-opacity: 0.75;
  }

  .offcanvas {
    --bs-offcanvas-bg: rgb(var(--bs-body-bg-rgb));
  }

  // .table {
  //   --bs-table-color: var(--bs-body-color);
  //   --bs-table-bg: red;
  //   --bs-table-border-color: var(--bs-border-color);
  //   --bs-table-accent-bg: transparent;
  //   --bs-table-striped-color: var(--bs-body-color);
  //   --bs-table-striped-bg: rgba(0,0,0,.05);
  //   --bs-table-active-color: var(--bs-body-color);
  //   --bs-table-active-bg: rgba(0,0,0,.1);
  //   --bs-table-hover-color: inherit;
  //   --bs-table-hover-bg: rgba(0,0,0,.02);
  // }

  .toast{
    &.success,
    &.notice {
      --bs-toast-bg: rgb(59 65 75 / 100%);
      --bs-toast-color: rgb(191 209 238 / 100%);
      --bs-toast-border-color: rgb(99 109 124 / 100%);
    }

    &.error {
      --bs-toast-bg: rgb(var(--bs-danger-rgb) .75);
      --bs-toast-color: rgb(var(--bs-white-rgb));
      --bs-toast-border-color: rgb(var(--bs-danger-rgb));
    }
  }
}
